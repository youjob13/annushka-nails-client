<form class="controls">
  <tui-input
    class="b-form control username"
    autocomplete="current-password"
    [formControl]="this.formModel.controls.username"
    [tuiTextfieldCustomContent]="
      !this.formModel.controls.username.dirty &&
      this.formModel.controls.username.valid
        ? success
        : fail
    "
  >
    Username
  </tui-input>

  <ng-template #success>
    <tui-svg src="tuiIconCheck" class="success tui-space_left-3"></tui-svg>
  </ng-template>

  <ng-template #fail>
    <tui-svg src="tuiIconCheck" class="fail tui-space_left-3"></tui-svg>
  </ng-template>

  <tui-input-password
    #passwordControl
    autocomplete="current-password"
    class="b-form control"
    [formControl]="this.formModel.controls.password"
    [tuiTextfieldCustomContent]="
      !this.formModel.controls.password.dirty &&
      this.formModel.controls.password.valid
        ? success
        : fail
    "
  >
    Type password
  </tui-input-password>

  <tui-input-password
    #repeatPasswordControl
    autocomplete="current-password"
    class="b-form control"
    [formControl]="this.formModel.controls.repeatedPassword"
    [tuiTextfieldCustomContent]="
      this.formModel.controls.repeatedPassword.dirty &&
      this.formModel.controls.repeatedPassword.invalid
        ? fail
        : this.formModel.controls.repeatedPassword.valid
        ? success
        : ''
    "
  >
    Repeat password
  </tui-input-password>

  <tui-checkbox
    [ngModelOptions]="{ standalone: true }"
    [(ngModel)]="passwordControl.isPasswordHidden"
    (ngModelChange)="repeatPasswordControl.isPasswordHidden = $event"
    class="tui-space_bottom-3"
  ></tui-checkbox>

  <button
    appearance="primary"
    tuiButton
    type="button"
    class="tui-space_right-3 tui-space_bottom-3"
    (click)="onSubmit()"
  >
    Sign Up
  </button>
</form>
